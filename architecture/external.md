## 外存
顺序读写型：磁带。主要应用场景是归档，也就是数据备份
随机只读型：光盘。主要用于资料分发和归档
随机读写型：软盘、硬盘、U 盘、SSD 等


## 文件系统
对于随机只读型的外置存储，如光盘，常见文件系统有：ISO-9660，UDF，Joliet。这类存储设备写特征是批量写，一次把所有数据写完，数据格式通常偏向于读优化

对于随机读写型的存储，如硬盘，常见文件系统有：FAT32，NTFS，HFS，EXT3/EXT4，XFS 等。大部分现代文件系统都基于日志来改善文件系统的防灾难能力（比如突然断电，或不正常的 unmount 行为），基于 B 树或 B+ 树组织元数据

对于随机读写型的存储设备，操作系统往往还支持对其进行分区，尤其是在这个存储设备的容量非常大的情况下。分区本质上只是把一个存储设备模拟成多个存储设备来使用。分区步骤一般如下：
1. 进行分区
2. 对每个分区进行格式化，也就是给这个分区生成文件系统的初始状态，并且生成文件系统的根目录
3. 把该分区挂载到操作系统管理的文件系统名字空间中。完成挂载后，就可以对这个文件系统进行目录和文件的读取、创建、删除、修改等操作


## 外存使用接口
### 命令行工具
目录相关：ls，mkdir，mv，cp，rmdir 等
文件相关：cat，vi，mv，cp，rm 等

### 系统调用
目录相关：os.Mkdir，os.Rename，os.Remove 等
文件相关：os.Open/Create/OpenFile，os.Rename，os.Remove 等

操作系统提供了一些文件冲突检查的机制。例如：检查文件是否存在，不存在就创建，这个语义在保证原子性的前提下，就可以用于做进程间的互斥。例如，保证一个软件不要运行多个进程实例，就可以基于这个机制来实现


## 虚拟内存的支持
在物理内存不足的时候，操作系统会利用外存把一些很久没有使用的内存页的数据，保存到外存以进行淘汰。操作系统为此分配了一个磁盘分区叫 swap 分区，专门用于内存页的保存和恢复。在缺页发生比较频繁时，内存页的数据经常性发生保存和恢复，这会发生大量的磁盘 IO 操作，非常占用 CPU 时间，这时候计算机会变得很慢